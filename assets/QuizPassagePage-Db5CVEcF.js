import{j as e,r,u as p}from"./index-BRvpN8SP.js";import{Q as f,a as m}from"./storageKey-D7cNo2SF.js";const j=({question:t,questionIdx:a,totalQuestions:o})=>e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex justify-between mb-4",children:[e.jsx("h2",{className:"text-lg font-semibold sentence",children:t.question}),e.jsxs("p",{className:"text-lg font-semibold",children:[a+1," of ",o]})]}),e.jsx("ul",{children:t.answers.map((l,n)=>e.jsxs("li",{className:"flex items-center space-x-2 bg-slate-300 px-3 py-3 rounded-lg mb-2 hover:bg-slate-200 transition",children:[e.jsx("input",{type:"radio",name:`answer-variant-${t.question}-${a}`}),e.jsx("p",{className:"sentence",children:l.text})]},n))})]}),b=()=>{const t=localStorage.getItem(m);return t?JSON.parse(t):0},z=()=>{const[t,a]=r.useState([]),[o,l]=r.useState(b),[n,g]=r.useState(0),x=p(),c=r.useRef(null);r.useEffect(()=>{const s=window.localStorage.getItem(f),u=(s?JSON.parse(s):[]).filter(d=>d.quizTitle===x.quizID);a(u)},[x.quizID]),r.useEffect(()=>(c.current=setInterval(()=>{l(s=>{const i=s+1;return window.localStorage.setItem(m,JSON.stringify(i)),i})},1e3),()=>{c.current&&(clearInterval(c.current),window.localStorage.setItem(m,"0"))}),[]);const h=s=>{const i=s%60,u=Math.floor(s%3600/60),d=Math.floor(s/3600);return`${String(d).padStart(2,"0")}:${String(u).padStart(2,"0")}:${String(i).padStart(2,"0")}`};return e.jsx(e.Fragment,{children:t.length&&e.jsxs("div",{className:"container px-4 py-8 m-auto",children:[e.jsx("p",{className:"text-xl text-center mb-3",children:"Topic of this quiz"}),e.jsx("h1",{className:"sentence text-2xl font-bold mb-10 text-center",children:t[0].quizTitle}),e.jsx(j,{question:t[0].questions[n],questionIdx:n,totalQuestions:t[0].questions.length}),e.jsxs("div",{className:"flex justify-between",children:[n!==t[0].questions.length-1?e.jsx("button",{onClick:()=>g(n+1),className:"px-2.5 py-0.5 bg-green-500 rounded-full text-white hover:bg-green-600 transition",children:"Next >"}):e.jsx("button",{className:"bg-blue-500 text-white py-2 px-4 rounded-md hover:bg-blue-600 transition",children:"Submit quiz"}),e.jsx("div",{children:e.jsx("p",{className:"text-lg font-semibold",children:h(o)})})]})]})})};export{z as default};
