import{r as z,j as s,_ as C}from"./index-D5AEev3y.js";const p={quizTitle:"",questions:[{question:"",answers:[{text:"",correct:!1}]}]},A=()=>{const[i,c]=z.useState([p]),b=(a,e)=>{const r=i.map((t,n)=>n===a?{...t,questions:t.questions.map((o,l)=>l===e?{...o,answers:[...o.answers,{text:"",correct:!1}]}:o)}:t);c(r)},w=(a,e,r)=>{const t=i.map((n,o)=>o===a?{...n,questions:n.questions.map((l,u)=>u===e?{...l,answers:l.answers.filter((d,m)=>m!==r)}:l)}:n);c(t)},h=a=>{const e=i.map((r,t)=>t===a?{...r,questions:[...r.questions,{question:"",answers:[{text:"",correct:!1}]}]}:r);c(e)},g=(a,e)=>{const r=i.map((t,n)=>n===a?{...t,questions:t.questions.filter((o,l)=>l!==e)}:t);c(r)},x=(a,e)=>{const r=i.map((t,n)=>n===a?{...t,quizTitle:e}:t);c(r)},f=(a,e,r)=>{const t=i.map((n,o)=>o===a?{...n,questions:n.questions.map((l,u)=>u===e?{...l,question:r}:l)}:n);c(t)},j=(a,e,r,t)=>{const n=i.map((o,l)=>l===a?{...o,questions:o.questions.map((u,d)=>d===e?{...u,answers:u.answers.map((m,N)=>N===r?{...m,text:t}:m)}:u)}:o);c(n)},y=(a,e,r)=>{const t=i.map((n,o)=>o===a?{...n,questions:n.questions.map((l,u)=>u===e?{...l,answers:l.answers.map((d,m)=>({...d,correct:m===r}))}:l)}:n);c(t)},v=a=>new Promise(e=>{setTimeout(()=>{e(a)},500)}),Q=async a=>{a.preventDefault();const e=window.localStorage.getItem("quizzes"),t=[...e?JSON.parse(e):[],...i];try{const n=await v(t);window.localStorage.setItem("quizzes",JSON.stringify(n)),c([p]),C.success("New quiz was successfuly saved")}catch(n){console.error("Failed to set quiz. Try again later",n)}};return s.jsx(s.Fragment,{children:s.jsxs("div",{className:"container mx-auto px-4 py-8",children:[s.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Create a New Quiz"}),s.jsxs("form",{className:"",id:"quiz-form",onSubmit:Q,children:[i.map((a,e)=>s.jsxs("div",{children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:`quiz-title-${e}`,className:"block mb-1 text-2xl",children:"Quiz Title"}),s.jsx("input",{id:`quiz-title-${e}`,type:"text",name:"quizTitle",placeholder:"Quiz title",value:a.quizTitle||"",onChange:r=>x(e,r.target.value),required:!0,className:"w-full border-gray-300 rounded-md mb-4 py-2 px-4 focus:outline-none focus:border-blue-500 bg-gray-100"})]}),a.questions.map((r,t)=>s.jsxs("div",{children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between mb-2",children:[s.jsx("label",{htmlFor:`question-${e}-${t}`,className:"text-xl",children:"Question"}),s.jsx("button",{type:"button",onClick:()=>g(e,t),className:"px-2.5 py-0.5 bg-red-500 rounded-full text-white hover:bg-red-600 transition",children:"Remove question"})]}),s.jsx("input",{id:`question-${e}-${t}`,type:"text",name:"question",placeholder:`Set question number ${t+1}`,value:r.question||"",onChange:n=>f(e,t,n.target.value),required:!0,className:"w-full border-gray-300 rounded-md py-2 px-4 focus:outline-none focus:border-blue-500 bg-gray-100"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block mb-1 text-lg",children:"Answers"}),r.answers.map((n,o)=>s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"radio",name:`correct-answer-${e}-${t}`,checked:n.correct,onChange:()=>y(e,t,o)}),s.jsx("input",{type:"text",placeholder:`Answer variant ${o+1}`,value:n.text||"",onChange:l=>j(e,t,o,l.target.value),required:!0,className:"w-full border-gray-300 rounded-md py-2 px-4 focus:outline-none focus:border-blue-500 bg-gray-100 mb-2"}),s.jsx("button",{type:"button",onClick:()=>w(e,t,o),className:"px-2.5 py-0.5 bg-red-500 rounded-full text-white hover:bg-red-600 transition",children:"X"})]},o)),s.jsx("button",{type:"button",onClick:()=>b(e,t),className:"px-2.5 py-0.5 mb-4 bg-green-500 rounded-full text-white hover:bg-green-600 transition",children:"Add answer variant"})]}),s.jsx("div",{className:"flex justify-between items-center mb-5"})]},t)),s.jsx("div",{className:"flex justify-between items-center mb-5",children:s.jsx("button",{type:"button",onClick:()=>h(e),className:"px-2.5 py-0.5 bg-green-500 rounded-full text-white",children:"Add Question"})})]},e)),s.jsx("button",{type:"submit",className:"bg-blue-500 text-white py-2 px-4 rounded-md hover:bg-blue-600 transition",children:"Create quiz"})]})]})})};function F(){return s.jsx(s.Fragment,{children:s.jsx(A,{})})}export{F as default};
